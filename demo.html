<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>demos</title>
		<link rel="stylesheet" href="./src/style-all.css" />
		<style>
			.wrapper {
				padding: 15px;
			}

			.wrapper .title {
				margin-bottom: 15px;
				font-weight: bold;
			}

			.stage {
				margin-bottom: 10px;
			}
		</style>
	</head>

	<body>
		<div class="content-wrap">
			<!-- toastéƒ¨åˆ† -->
			<div class="wrapper">
				<div class="title">Toast æ’ä»¶å±•ç¤º</div>
				<div class="stage">
					<button class="a-button" onclick="toastStage.plain()">
						æ™®é€šæç¤º
					</button>

					<button class="a-button" onclick="toastStage.success()">
						å€¾å‘æ€§æç¤º
					</button>

					<button class="a-button" onclick="toastStage.asyncClose()">
						å¼‚æ­¥å…³é—­
					</button>

					<button class="a-button" onclick="toastStage.light()">
						light ä¸»é¢˜
					</button>

					<button class="a-button" onclick="toastStage.excute()">
						å¸¦æœ‰å…³é—­å›è°ƒ
					</button>

					<button class="a-button" onclick="toastStage.randerHTML()">
						DOMæ’æ§½
					</button>
				</div>
			</div>

			<!-- messagebox éƒ¨åˆ† -->
			<div class="wrapper">
				<div class="title">Messagebox æ’ä»¶å±•ç¤º</div>
				<div class="stage">
					<button class="a-button" onclick="msgBoxStage.plainBox()">
						æ™®é€šçš„æ¶ˆæ¯å¼¹æ¡†
					</button>
					<button class="a-button" onclick="msgBoxStage.warn()">
						å€¾å‘æ€§
					</button>
					<button class="a-button" onclick="msgBoxStage.callback()">
						åŠ¨ä½œå›è°ƒ
					</button>
					<button class="a-button" onclick="msgBoxStage.excute()">
						å¼‚æ­¥å…³é—­
					</button>
					<button class="a-button" onclick="msgBoxStage.html()">
						DOMæ’æ§½
					</button>

					<button class="a-button" onclick="msgBoxStage.banEsc()">
						ä¸å¯é€šè¿‡Escæˆ–ç‚¹å‡»maskå…³é—­
					</button>
				</div>
			</div>

			<!-- <div class="a-toast">
				<span class="a-toast__iconwrap">
					<svg
						viewBox="0 0 1024 1024"
						version="1.1"
						class="a-toast__icon loading"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m0 128a298.666667 298.666667 0 1 0 0 597.333334 298.666667 298.666667 0 0 0 0-597.333334z"
							fill-opacity=".2"
							fill="#000"
						/>
						<path
							d="M813.696 813.696c166.613333-166.613333 166.613333-436.778667 0-603.392-166.613333-166.613333-436.778667-166.613333-603.392 0A64 64 0 0 0 300.8 300.8a298.666667 298.666667 0 1 1 422.4 422.4 64 64 0 0 0 90.496 90.496z"
							fill="#000"
	
						/>
					</svg>
				</span>
				<span class="a-toast__inner">socketè¿æ¥å·²æ–­å¼€ï¼Œæ­£åœ¨é‡è¿</span>
			</div> -->
		</div>
	</body>
	<script src="./src/toast.js"></script>
	<script src="./src/message-box.js"></script>
	<script>
		const toastStage = {
			plain() {
				let toast = Toast.show("æˆ‘æ˜¯ä¸€ä¸ªæœ´å®æ— åä¸”æ¯ç‡¥çš„toast");
				// Toast.loading("socketè¿æ¥å·²æ–­å¼€ï¼Œæ­£åœ¨é‡è¿...")
			},

			success() {
				Toast.success("è¡¨å•æäº¤æˆåŠŸï¼");
			},

			asyncClose() {
				let t = 5;
				let toast = new Toast({
					title: "æˆ‘5ç§’ååŠ è½½å®Œæˆ(å‡è£…)",
					type: "loading",
				});

				let timer = setInterval(() => {
					t--;
					toast.title = `${t}ç§’ååŠ è½½å®Œæˆ`;
					if (t <= 0) {
						clearInterval(timer);
					}
				}, 1000);

				setTimeout(() => toast.hide(), 5000);
			},

			light() {
				let toast = new Toast({
					title: "æˆ‘æ˜¯äº®è‰²ä¸»é¢˜çš„toast",
					theme: "light",
				});
			},

			excute() {
				let toast = new Toast({
					title: "æˆ‘å…³é—­åä¼šæ‰§è¡Œå›è°ƒå‡½æ•°å“Ÿ",
					onHide: () => {
						alert("æˆ‘è¦è¢«ä»domç§»é™¤å•¦");
					},
				});
			},

			randerHTML() {
				let toast = new Toast({
					title: `<button class="a-button" onclick="toastStage.showMsgbox()">
		                  æˆ‘æ˜¯ä¸€æšæŒ‰é’®ï¼Œæˆ‘åœ¨toastç»„ä»¶å†…éƒ¨
		              </button>`,
					dangerouslyUseHTML: true,
					theme: "dark",
				});
			},
		};

		const msgBoxStage = {
			plainBox() {
				new MessageBox({
					message: "æˆ‘æ˜¯ä¸€ä¸ªæ¶ˆæ¯æç¤ºæ¡†",
				});
			},

			warn() {
				MessageBox.warn("åˆ é™¤æ•°æ®åä¸å¯æ¢å¤ï¼Œç¡®å®šå—ï¼Ÿ");
			},

			callback() {
				let mb = new MessageBox({
					message: "ç‚¹å‡»æŒ‰é’®è¯•è¯•çœ‹",
					confirmBtnText: "å¥½å˜ ğŸ‘Œ",
					cancelBtnText: "v(ãƒï½€Ğ”)ãƒ",
					onConfirm() {
						Toast.show("ç‚¹å‡»äº†ç¡®è®¤");
						mb.close();
					},
					onCancel() {
						Toast.show("ç‚¹å‡»äº†å–æ¶ˆ");
						mb.close();
					},
				});
			},

			excute() {
				let mb = new MessageBox({
					type: "error",
					title: "æ“ä½œæœªè¢«å…è®¸",
					message: "ä¸‰ç§’åæˆ‘ä¼šè¢«å¼‚æ­¥å…³é—­",
					showClose: false,
				});

				setTimeout(() => {
					mb && mb.close();
				}, 3000);
			},

			html() {
				let mb = new MessageBox({
					message: `<input type="text" placeholder="æˆ‘ä¸€ä¸ªè¾“å…¥æ¡† ç«Ÿç„¶åœ¨å¼¹æ¡†é‡Œ">`,
					dangerouslyUseHTML: true,
				});
			},

			banEsc() {
				let mb = new MessageBox({
					type: "success",
					title: "å€Ÿæˆ‘ç‚¹é’±ï¼Ÿ",
					message: `æˆ‘ç¦ç”¨äº†Esc/å³ä¸Šè§’x/Maskå…³é—­ï¼Œä½ å¿…é¡»æ˜ç¡®å›åº”æˆ‘ï¼Œåˆ°åº•ä¸­ä¸ä¸­ï¼Ÿ`,
					showClose: false,
					closeOnPressEscape: false,
					closeOnClickMask: false,
				});
			},
		};
	</script>
</html>
